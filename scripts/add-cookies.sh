#!/bin/bash

# Add cookies to .env file
echo "ðŸª Adding cookies to .env..."

# YouTube Cookie
YT_COOKIES_B64="IyBOZXRzY2FwZSBIVFRQIENvb2tpZSBGaWxlCiMgaHR0cHM6Ly9jdXJsLmhheHguc2UvcmZjL2Nvb2tpZV9zcGVjLmh0bWwKIyBUaGlzIGlzIGEgZ2VuZXJhdGVkIGZpbGUhIERvIG5vdCBlZGl0LgoKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE4MDA5NDcyNTUJTE9HSU5fSU5GTwlBRm1tRjJzd1JBSWdRdU5aSUhLelNaOU1FSDR6UzlqR2tfV2FrWG5mZHRWNmQ2enJlcFpraFZvQ0lHVUpsR29TODNET1pvLUJ0V3JlcWpTWkZTYTZwbGxSbFZXWUNZRHRyVjFpOlFVUTNNak5tZUVnNWFsaHFRWGh3VFVjMU56RTRSMWQwVlRCdFpERlBNRzltUVhOVU4wSjVVRzE1VUdwbmNGVjJhbmszUms5dFFtY3pUMHREU25KMlpsSndVbVpEZVZsVGJIQjFUamhQU1ZobGNFZEtXVmQyTmtGM2NFd3RZbE41WlZCSlZtbHlPVkZsVEdReVIyRlBNbEZwZDFkZk1qRkVZV1pGUVRKa1lVNWFlbGN5U0UxcmRtaFZUVzVmZUVZNGNHSnlTSEk0V1U5QmRFcEZXVVJ1VFVkMwoueW91dHViZS5jb20JVFJVRQkvCUZBTFNFCTE4MDE0MDc2NzUJSFNJRAlBWU1YU3pBUUx5bFdlSi1OSQoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTgwMTQwNzY3NQlTU0lECUEyMVpQTVpldEhaX1N3aWVuCi55b3V0dWJlLmNvbQlUUlVFCS8JRkFMU0UJMTgwMTQwNzY3NQlBUElTSUQJV1hkbmdpT0hFMnQ0dVhtQy9BRmhIWU5kUk8wNy10dnJWZwoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTgwMTQwNzY3NQlTQVBJU0lECXduSUc2TnRpYk9SaHdheWovQUZPeC1kMEkwS2J3bm9Dbl8KLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE4MDE0MDc2NzUJX19TZWN1cmUtMVBBUElTSUQJd25JRzZOdGliT1Jod2F5ai9BRk94LWQwSTBLYndub0NuXwoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTgwMTQwNzY3NQlfX1NlY3VyZS0zUEFQSVNJRAl3bklHNk50aWJPUmh3YXlqL0FGT3gtZDBJMEtid25vQ25fCi55b3V0dWJlLmNvbQlUUlVFCS8JRkFMU0UJMTgwMTQwNzY3NQlTSUQJZy5hMDAwNUFoNlN1QmpfMnVIVmtKYkh5N2NOZGVOVlpVSk5NVXc5dmtldTFlQkJaUjRNa1R5WEN2M1ZyRl9fU2pSZmxZZFAwM1VvZ0FDZ1lLQWM0U0FSVVNGUUhHWDJNaXQ0b0JnNjhjN0Q1OGlxU0VxY28wYnhvVkFVRjh5S29aZXF6YmI0OWNNSW9feFE3dFpLdVIwMDc2Ci55b3V0dWJlLmNvbQlUUlVFCS8JVFJVRQkxODAxNDA3Njc1CV9fU2VjdXJlLTFQU0lECWcuYTAwMDVBaDZTdUJqXzJ1SFZrSmJIeTdjTmRlTlZaVUpOTVV3OXZrZXUxZUJCWlI0TWtUeWp3eVlycENjdG9yN2JlQURDck12WkFBQ2dZS0FYc1NBUlVTRlFIR1gyTWlSTnRDbTBjMlF1Tkl6MG4waFBPVlZCb1ZBVUY4eUtweXlkTm9aR3RiaDZtaHpNTy1VNUpTMDA3NgoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTgwMTQwNzY3NQlfX1NlY3VyZS0zUFNJRAlnLmEwMDA1QWg2U3VCal8ydUhWa0piSHk3Y05kZU5WWlVKTk1Vdzl2a2V1MWVCQlpSNE1rVHlzUHRPZVF0SkFzVGJiWlV3a3hXTWpBQUNnWUtBZXdTQVJVU0ZRSEdYMk1pejRIek5OelVqUjBCODZkOXVFQ2R6Qm9WQVVGOHlLcEFEWEcwR25idlQ4ajJzSWNjaTVNcjAwNzYKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE4MDI0MzM1NDMJUFJFRglmND00MDAwMDAwJmY2PTQwMDAwMDAwJnR6PUFzaWEuU2FtYXJrYW5kJmY3PTEwMAoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTc5OTQwOTU0NglfX1NlY3VyZS0xUFNJRFRTCXNpZHRzLUNqVUJmbGFDZGRZWE9CQzhkWGM3eXMzQWdrVmZEWWlWQ3ZVT19vTk1yWUxQXzdRNTBuQ3JQSFlNdXoyQTlxR2dtUnMtQ2t0U0poQUEKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE3OTk0MDk1NDYJX19TZWN1cmUtM1BTSURUUwlzaWR0cy1DalVCZmxhQ2RkWVhPQkM4ZFhjN3lzM0Fna1ZmRFlpVkN2VU9fb05NcllMUF83UTUwbkNyUEhZTXV6MkE5cUdnbVJzLUNrdFNKaEFBCi55b3V0dWJlLmNvbQlUUlVFCS8JRkFMU0UJMTc5OTQwOTcwNAlTSURDQwlBS0V5WHpYVHRUeExnU2E4TjlzdjR5QkNsb1hKR1MybVBMLUJMRHRqc2NwMnhESEJTVXFqZEl1cTZxM1ZHc0UzNF9DX01LSDZzbzAKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE3OTk0MDk3MDQJX19TZWN1cmUtMVBTSURDQwlBS0V5WHpYMjhIUnZzQUN3Z1RMeU8tcW84eEZZRllYdXZVem8xZGxZUGRZZGwxamlOaWxxRXFNQ0lOdlZQUDNKTDktSkVndjVqeEkKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE3OTk0MDk3MDQJX19TZWN1cmUtM1BTSURDQwlBS0V5WHpXb2NjNXM0OW1Ndl9XX3ZVbTlmMkpXMnNSY3ZvZDZWV0hqNzFGajkwOVhjWllmeGdFQkRFb0ZpUFdxRmE4RWt2cDB1ZwoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTc4MzQyNTU0NwlWSVNJVE9SX0lORk8xX0xJVkUJNmV1RkdINkNreWMKLnlvdXR1YmUuY29tCVRSVUUJLwlUUlVFCTE3ODM0MjU1NDcJVklTSVRPUl9QUklWQUNZX01FVEFEQVRBCUNnSlZXaElFR2dBZ0R3JTNEJTNECi55b3V0dWJlLmNvbQlUUlVFCS8JVFJVRQkwCVlTQwlvcXhUSVhTcWFZbwoueW91dHViZS5jb20JVFJVRQkvCVRSVUUJMTc4MzQyNTU0MglfX1NlY3VyZS1ST0xMT1VUX1RPS0VOCUNQYnYtcHk2ck8tTTJnRVE3dTZiaElDY2pRTVlyZTNNa19MN2tRTSUzRAo="

# Instagram Cookie
IG_COOKIES_B64="IyBOZXRzY2FwZSBIVFRQIENvb2tpZSBGaWxlCiMgaHR0cHM6Ly9jdXJsLmhheHguc2UvcmZjL2Nvb2tpZV9zcGVjLmh0bWwKIyBUaGlzIGlzIGEgZ2VuZXJhdGVkIGZpbGUhIERvIG5vdCBlZGl0LgoKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMTc4MTMzMDk3NglkYXRyCUg1d2RhQjBFSmgxcElVTHdHWWE3RlB4MAouaW5zdGFncmFtLmNvbQlUUlVFCS8JVFJVRQkxNzc4MzA3MDM2CWlnX2RpZAk3MzBDMDgzMS0yNDBGLTQ1MEQtQUUyNC1GOEZCNzA5NEU1MDkKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMTc3ODMwNjk4MglpZ19ucmNiCTEKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMTc4MTMzMDk4MwltaWQJYUIyY0lBQUVBQUViMG92OUVpeHhvNjBDaXBoZgouaW5zdGFncmFtLmNvbQlUUlVFCS8JVFJVRQkxNzgxMzMxMDQ2CXBzX2wJMQouaW5zdGFncmFtLmNvbQlUUlVFCS8JVFJVRQkxNzgxMzMxMDQ2CXBzX24JMQouaW5zdGFncmFtLmNvbQlUUlVFCS8JVFJVRQkxODAyNDMzODA0CWNzcmZ0b2tlbglDZkZpT0dRZXI3VGl3Y3FKc0VyYWx6c2pXUnQ0SURnegouaW5zdGFncmFtLmNvbQlUUlVFCS8JVFJVRQkxNzc1NjQ5ODA0CWRzX3VzZXJfaWQJNzIxOTIxMjI1NzcKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMAlydXIJIlJWQVwwNTQ3MjE5MjEyMjU3N1wwNTQxNzk5NDA5ODAzOjAxZmVmYzJlZDZlMDg2MTQwZjUxNjY0NWVmMjVlODIxNjg3MzE4YTM0YTIxZDg2MGE1MmQ0YmE0ZjllYThkY2Q0YmNhN2ZkYyIKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMTc5OTQwOTgwNAlzZXNzaW9uaWQJNzIxOTIxMjI1NzclM0FXUDdMTGhNTEZ5ODcyUyUzQTglM0FBWWp2TDZCdDJBUFlLQUZteGF4Mk1zQ1M5Y004VlNJMEpONmp1dC1ZekEKLmluc3RhZ3JhbS5jb20JVFJVRQkvCVRSVUUJMTc2ODQ3ODYwNgl3ZAk5MzJ4NjgzCg=="

# Check if .env exists
if [ ! -f ".env" ]; then
    echo "âŒ .env file not found!"
    exit 1
fi

# Add or update YouTube cookies
if grep -q "^YT_COOKIES_B64=" .env; then
    sed -i '' "s|^YT_COOKIES_B64=.*|YT_COOKIES_B64=${YT_COOKIES_B64}|" .env
    echo "âœ… Updated YouTube cookies"
else
    echo "YT_COOKIES_B64=${YT_COOKIES_B64}" >> .env
    echo "âœ… Added YouTube cookies"
fi

# Add or update Instagram cookies
if grep -q "^IG_COOKIES_B64=" .env; then
    sed -i '' "s|^IG_COOKIES_B64=.*|IG_COOKIES_B64=${IG_COOKIES_B64}|" .env
    echo "âœ… Updated Instagram cookies"
else
    echo "IG_COOKIES_B64=${IG_COOKIES_B64}" >> .env
    echo "âœ… Added Instagram cookies"
fi

echo ""
echo "âœ… Cookie'lar muvaffaqiyatli qo'shildi!"
echo "âœ… Cookies successfully added!"
echo ""
echo "Botni qayta ishga tushiring / Restart the bot:"
echo "npm run dev"
